-- foods table
CREATE TABLE foods (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    key TEXT UNIQUE NOT NULL,       -- Lowercase name (e.g., 'broccoli')
    name TEXT NOT NULL,
    carbs REAL NOT NULL,
    sugars REAL NOT NULL,
    fiber REAL NOT NULL,
    proteins REAL NOT NULL,
    fats REAL NOT NULL,
    saturated REAL NOT NULL,
    salt REAL NOT NULL,
    calories REAL NOT NULL,
    grams REAL NOT NULL,
    half REAL,
    entire REAL,
    serving REAL,
    ean TEXT
);

-- food_usage table
CREATE TABLE food_usage (
    food_key TEXT PRIMARY KEY,
    count INTEGER DEFAULT 0,
    FOREIGN KEY (food_key) REFERENCES foods(key)
);